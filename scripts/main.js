"use strict";!function(){function t(t){var a=t.find("tr"),e=a.map(function(t,a){var e=$(a).find("td"),n=e[0].innerHTML,i=e[1].innerHTML;return{name:n,email:i}});return $.makeArray(e)}function a(t){for(var a=t.slice(0),e=[],i=!0,r=!1;i===!0;){a=n(a),r=!1;for(var o=0;o<a.length;o++)if(a[o].name===t[o].name){r=!0;break}r!==!0&&(i=!1)}for(o=0;o<t.length;o++)e.push({atnas:t[o],child:a[o]});return e}function e(t){var a=t.atnas.name,e=t.atnas.email,n=t.child.name,i=(t.child.email,"HELLO, "+a+"\nyou have been selected to participate in the annual Samtsirch gift exchange. This is a great honor. You shall be providing a gift for the majestic "+n+".\nPlease make sure you are not getting a terrible gift, because that makes people feel sad.\n\nSincerely,\nVoidwalker");$.ajax({type:"POST",url:"https://mandrillapp.com/api/1.0/messages/send.json",data:{key:"HxUivpNgtB26DWm79bXFVg",message:{from_email:"ianmcgaunn@gmail.com",from_name:"Voidwalker Kringle",to:[{email:e,name:a,type:"to"}],autotext:"true",subject:"ATNAS HAS FOUND YOU, HERE IS YOUR DESTINY",text:i}}}).done(function(t){console.log(t)})}function n(t){for(var a=t.length-1;a>0;a--){var e=Math.floor(Math.random()*(a+1)),n=t[a];t[a]=t[e],t[e]=n}return t}$("#names").submit(function(){var t=$(this).find("#personName").val(),a=$(this).find("#personEmail").val(),e=$("<td>").text(t),n=$("<td>").text(a);if(""!==t&&""!==a){var i=$("#participants");i.find("thead").after("<tr>"),i.find("tbody").append("<tr>"),i.find("tr").last().append(e).append(n)}}),$("#participants tbody").on("click","tr",function(){$(this).remove()}),$("#match").click(function(){var n=$("#participants tbody"),i=[],r=[];if(n.find("tr").length>0&&(i=t(n)),i.length>=2){r=a(i);for(var o=0;o<r.length;o++)e(r[o])}})}();